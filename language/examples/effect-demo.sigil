âŸ¦
  Effect Tracking Demo

  Demonstrates Sigil's compile-time effect tracking system.
  Effects prevent accidental side effects by requiring explicit declarations.
âŸ§

e console

âŸ¦ Pure computation - no side effects âŸ§
Î»add(a:â„¤,b:â„¤)â†’â„¤=a+b

âŸ¦ Pure functions can call other pure functions âŸ§
Î»computeSum(a:â„¤,b:â„¤)â†’â„¤=add(a,b)

âŸ¦ Pure transformation âŸ§
Î»double(x:â„¤)â†’â„¤=x*2

âŸ¦ Network effect (simulated) âŸ§
Î»fetchData()â†’!Network ğ•Š="network-data"

âŸ¦ Single IO effect - console output âŸ§
Î»log(msg:ğ•Š)â†’!IO ğ•Œ=console.log(msg)

âŸ¦ Effectful functions can call pure functions âŸ§
Î»logDoubled(x:â„¤)â†’!IO ğ•Œ=logValue(double(x))

âŸ¦ IO effect with computation âŸ§
Î»logValue(x:â„¤)â†’!IO ğ•Œ=console.log(x)

âŸ¦ Main function with all effects âŸ§
Î»main()â†’!IO !Network ğ•Œ=processAndLog()

âŸ¦ Function with two declared effects âŸ§
Î»processAndLog()â†’!IO !Network ğ•Œ=log(fetchData())

âŸ¦ ========================================================================
  COMPILE-TIME SAFETY

  Effect tracking prevents bugs at compile time:

  - Pure functions calling effectful functions: REJECTED
  - Missing effect declarations: REJECTED
  - All effects properly declared: ACCEPTED

  The compiler ensures that every function signature accurately
  documents all side effects it performs.
  ======================================================================== âŸ§
