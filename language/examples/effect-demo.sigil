‚ü¶
  Effect Tracking Demo

  Demonstrates Sigil's compile-time effect tracking system.
  Effects prevent accidental side effects by requiring explicit declarations.
‚üß

e console

‚ü¶ ========================================================================
   PURE FUNCTIONS (No Effects)
   ======================================================================== ‚üß

‚ü¶ Pure computation - no side effects ‚üß
Œªadd(a:‚Ñ§,b:‚Ñ§)‚Üí‚Ñ§=a+b

‚ü¶ Pure transformation ‚üß
Œªdouble(x:‚Ñ§)‚Üí‚Ñ§=x*2

‚ü¶ Pure functions can call other pure functions ‚üß
ŒªcomputeSum(a:‚Ñ§,b:‚Ñ§)‚Üí‚Ñ§=add(a,b)

‚ü¶ ========================================================================
   IO EFFECTS
   ======================================================================== ‚üß

‚ü¶ Single IO effect - console output ‚üß
Œªlog(msg:ùïä)‚Üí!IO ùïå=console.log(msg)

‚ü¶ IO effect with computation ‚üß
ŒªlogValue(x:‚Ñ§)‚Üí!IO ùïå=console.log(x)

‚ü¶ ========================================================================
   MULTIPLE EFFECTS
   ======================================================================== ‚üß

‚ü¶ Network effect (simulated) ‚üß
ŒªfetchData()‚Üí!Network ùïä="network-data"

‚ü¶ Function with two declared effects ‚üß
ŒªprocessAndLog()‚Üí!IO !Network ùïå=log(fetchData())

‚ü¶ ========================================================================
   EFFECT PROPAGATION
   ======================================================================== ‚üß

‚ü¶ Effectful functions can call pure functions ‚üß
ŒªlogDoubled(x:‚Ñ§)‚Üí!IO ùïå=logValue(double(x))

‚ü¶ Main function with all effects ‚üß
Œªmain()‚Üí!IO !Network ùïå=processAndLog()

‚ü¶ ========================================================================
   COMPILE-TIME SAFETY

   Effect tracking prevents bugs at compile time:

   - Pure functions calling effectful functions: REJECTED
   - Missing effect declarations: REJECTED
   - All effects properly declared: ACCEPTED

   The compiler ensures that every function signature accurately
   documents all side effects it performs.
   ======================================================================== ‚üß
