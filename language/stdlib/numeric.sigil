โฆ Numeric Standard Library

   Canonical numeric predicates and math operations.
   Part of Sigil standard library - canonical implementations only.
โง

โฆ Helper: Range checking โง
ฮปin_range_helper(x:โค,min:โค,max:โค)โ๐นโก(xโฅmin){
  โคโxโคmax|
  โฅโโฅ
}

โฆ Helper: Prime checking โง
ฮปis_prime_helper(n:โค,divisor:โค)โ๐นโก(divisor*divisor>n){
  โคโโค|
  โฅโโก(n%divisorโ0){
    โคโis_prime_helper(n,divisor+1)|
    โฅโโฅ
  }
}

โฆ Clamp value between min and max โง
export ฮปclamp(x:โค,lo:โค,hi:โค)โโค=max(lo,min(x,hi))

โฆ Check if n is divisible by d โง
export ฮปdivisible(n:โค,d:โค)โ๐น=n%d=0

โฆ Product of integers from 1 to n (factorial) โง
export ฮปfactorial(n:โค)โโคโกn{0โ1|1โ1|nโn*factorial(n-1)}

โฆ Fibonacci number โง
export ฮปfib(n:โค)โโคโกn{0โ0|1โ1|nโfib(n-1)+fib(n-2)}

โฆ Greatest common divisor (Euclidean algorithm) โง
export ฮปgcd(a:โค,b:โค)โโคโกb{0โa|bโgcd(b,a%b)}

โฆ Check if value is in range [min, max] (inclusive) โง
export ฮปin_range(x:โค,min:โค,max:โค)โ๐น=in_range_helper(x,min,max)

โฆ Check if value is even โง
export ฮปis_even(x:โค)โ๐น=(x%2)=0

โฆ Check if value is negative โง
export ฮปis_negative(x:โค)โ๐น=x<0

โฆ Check if value is non-negative (โฅ0) โง
export ฮปis_non_negative(x:โค)โ๐น=xโฅ0

โฆ Check if value is odd โง
export ฮปis_odd(x:โค)โ๐น=ยฌ(is_even(x))

โฆ Check if value is positive โง
export ฮปis_positive(x:โค)โ๐น=x>0

โฆ Check if value is prime โง
export ฮปis_prime(n:โค)โ๐นโกn{
  0โโฅ|
  1โโฅ|
  nโis_prime_helper(n,2)
}

โฆ Check if value is zero โง
export ฮปis_zero(x:โค)โ๐น=x=0

โฆ Maximum of two numbers โง
export ฮปmax(a:โค,b:โค)โโคโกa>b{โคโa|โฅโb}

โฆ Minimum of two numbers โง
export ฮปmin(a:โค,b:โค)โโคโกa<b{โคโa|โฅโb}

โฆ Integer power (exponentiation) โง
export ฮปpow(base:โค,exp:โค)โโคโกexp{
  0โ1|
  expโbase*pow(base,exp-1)
}

โฆ Sum of integers from a to b โง
export ฮปsum_range(a:โค,b:โค)โโคโกa>b{โคโ0|โฅโa+sum_range(a+1,b)}

โฆ Sum of integers from 1 to n โง
export ฮปsum_to(n:โค)โโคโกn{0โ0|nโn+sum_to(n-1)}
